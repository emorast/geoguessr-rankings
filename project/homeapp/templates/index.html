<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>geoguessr-rankings</title>
    <link rel="icon" type="image/x-icon" href="" />
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../static/homeapp/theme/style.css" rel="stylesheet" />
    <script src="../static/homeapp/src/map.js"></script>
    
    <!-- Mapbox imports -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
  </head>
  <body id="page-top">

    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
      <div class="container px-5">
        <a class="navbar-brand" href="#page-top">geoguessr-rankings</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#ranking">Ranking</a>
            </li>
            <li class="nav-item"><a class="nav-link" href="#karta">Karta</a></li>
            <li class="nav-item">
              <a class="nav-link" href="#stats">Statistik</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>


    <!-- Header-->
    <header class="masthead text-center text-white">
      <div class="masthead-content">
        <div class="container px-5">
          <h1 class="masthead-heading mb-0">Geoguessr&#8482-veckoturnering</h1>
          <h2 class="masthead-subheading mb-0">
            Platser Digital Solutions vill besöka men inte får
          </h2>
          <a class="btn btn-primary btn-xl rounded-pill mt-5" href="#karta">Till kartan</a>
        </div>
      </div>
    </header>


    <!-- Nyheter-->
    <section id="slides">

    </section>

    <!-- Rankinglista-->
    <section id="ranking">
      <h2 class="display-4 my-5" align='center'>Ranking</h2>
      <div class="container px-5 py-3 my-4 border-bottom shadow p-3 mb-5 bg-white rounded">
        <div class="row gx-5 align-items-center">
        {% if showFullList %}
          <h2 class="display-6" align='center'>Alla Spelare</h2>
        {% else %}
          <h2 class="display-6" align='center'>Topp 10</h2>
        {% endif %}
          <div class="container" align='center' >
            {% for player in players %}     
              <div class="row py-1 w-75 border-bottom"> 
                <div class="d-flex align-items-center">
                  <i class="ms-3 fas fa-angle-up" align='right'></i>
                  <h3 class="ms-3">{{ forloop.counter }}</h3>
                  <div class="ms-5">
                    <p class="fw-bold mb-1">{{ player.full_name }}</p>
                    <p class="text-muted mb-0" align='left'>{{ player.overall_elo }}</p>    
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
          <div class='py-2' align='center'>
            {% if showFullList %}
              <a class="btn btn-primary btn-l rounded-pill mt-2" href="/#ranking" align='center'>Visa färre</a>
            {% else %}
              <a class="btn btn-primary btn-l rounded-pill mt-2" href="/list/#ranking" align='center'>Visa fler</a>
            {% endif %}
          </div>
      </div>

    </section>
    <!-- Statistik-->
    <section id="stats">
      <div class="container px-5 border-bottom">
        <div class="row gx-5 py-3 align-items-center">
          <h2 class="display-4" align="center">Statistik</h2>
          <p class="text-center">
            Undrar du också hur du kan få 4530, 3743, 4998, 3531 och 4201 och ändå komma
            på placering 23? Du är inte ensam. Det är något som har hållit många Geoguessr&#8482-fantaster
            vakna om nätterna i urminnes tider. Här på geoguessr-rankings ser vi inte problem, vi ser bara enkla lösningar.
            Därför har vi utvecklat verktyg för att just DU kan göra de djupgående analyserna av veckans parti som DU förtjänar.
            Klicka på knappen för att komma vidare till verktyget.
          </p>
        </div>
        <div class='py-1 my-4' align='center'>
          <a class="btn btn-primary btn-l rounded-pill mt-2" href="" align='center'>Till sidan</a>
        </div>
      </div>
    </section>
    <!-- Interaktiv karta-->
    <section id="karta">
      <div class="container px-5 py-5">
        <div class="row gx-5 align-items-center">
            <h2 class="display-4" align="center">Kartan</h2>
              <p class="text-center">
                Vilka platser har vi egentligen besökt under turneringens gång? 
                Det går lätt att se i den högteknologiska och interaktiva kartan som visas här. Kartan uppdateras
                en gång i veckan och är alltid aktuell, förutom i början av slutet på veckan eller i slutet av början av nästa.
              </p>
            <div class="container py-1 align-items-center " style="">
          <div id="map" class="mx-auto" style="height: calc(100vw * 0.5); width: calc(100vw * 0.5); max-height: 700px; max-width: 700px; border-radius: 50%">
          </div>
          <div class="col-lg-6 px-5 mx-auto">
            <a class="row .text-dark" href="https://www.Bylerius.se">Powered by Bylle</a>
            <a class="row .text-dark" href='https://www.mapbox.com/about/maps/' target='_blank'>Maps &copy; Mapbox</a>
            </div>
          </div>
        </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-black">
      <div class="container px-5">
        <p class="m-0 text-center text-white small">
          Powered by &copy; Ex-tillförordnade Praktikanten
        </p>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    
    <script type="text/javascript">
      map = initMapboxGLJS()

      

      addEventListener("resize", (event) => {});
      onresize = (event) => setMapZoom();

      var received_data  = JSON.parse('{{locations|safe}}');
      setHeatMap(received_data)
    </script>  
    
</html>
